function extractCITY(e){if(e)return e.match(/.*\(([A-Z]*)\)$/)[1]}function extractCountry(e){if(e)return e.match(/.+, ([A-Z]{2}) - .+/)[1]}function extractCityName(e){if(e)return city_name=e.replace(/\s*\(.*?\)\s*/g,""),city_name}function parseAutoCmp(e){return e=location.href.includes("/ar/")?e.map(function(e){return e={k:e.code,v:e.arabic[0]}}):e.map(function(e){return e={k:e.k,v:e.v}})}$(document).ready(function(){var n,o,r,l,t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}},d=t.any()?"/m":"",s=(location.href.includes("/ar/"),""),e=!!t.any(),c=Date.now()+1728e5,p=Date.now()+3456e5;e||location.href.includes("/ar/")||($(".travellers_data").val("1 adult,0 child,0 infants"),$("#AirSearch").find('input[name="adults"]').val("1"),$("ul.desktop_travellers span.adult-count").text("1")),1==["www.cleartrip.sa","www.cleartrip.ae"].includes(location.hostname)&&location.href.includes("/ar/"),1!=["www.cleartrip.sa","www.cleartrip.ae"].includes(location.hostname)||location.href.includes("/ar/")||(s="&skip-lp-redirect=true");var u=location.href.includes("/ar/")?"https://"+location.hostname+"/suggest/airports?expectedNumberOfRecords=10&outputLanguages=ARABIC&inputText=":"https://"+location.hostname+"/places/airports/search?string=";"undefined"==typeof lang&&(lang={calender:{airfare:"Airfare Calendar",today:"Today",cheapest:"Cheapest",calendar_note:"Note: Cleartrip Lowest Air Fares Calendar provides an indication of prices (per person) for a range of dates, so that you can see the cheapest air fares easily. The air fares you see here may not be available at the time you try and book."},flight_schedule:{mo:"Mo",tu:"Tu",we:"We",th:"Th",fr:"Fr",sa:"Sa",su:"Su"},currency:"Rs.",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),"www.cleartrip.sa"==location.hostname?lang.currency="SAR":lang.currency="www.cleartrip.com"==location.hostname?"Rs.":"AED",void 0===lang.month&&(lang.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==t.any()&&($("#fullCalendarShow").show(),$("#horCalendar").show()),$("#calendar").hide();var g=$("#departure_city_code").text(),v=$("#arrival_city_code").text(),h=$("#carrier_code").text();switch(typeof country_code){case"undefined":section="IN";break;case"object":section=$(country_code).text();break;case"string":section="in"==country_code.toLowerCase()?"IN":"AE"}if("www.cleartrip.sa"==location.hostname&&(section="SA"),!e){var f=[];"domestic"==section_type?($("div.trip-types ul.nav-tabs li a.one_way").trigger("click"),$("#rtn_date").prop("disabled",!0),$("a.toggle_trip").on("click",function(){this.className.includes("rnd_trip")?$("#rtn_date").prop("disabled",!1):$("#rtn_date").prop("disabled",!0)})):($("#rtn_date").prop("disabled",!1),$("div.trip-types ul.nav-tabs li a.rnd_trip").trigger("click"),$("a.toggle_trip").on("click",function(){this.className.includes("one_way")?$("#rtn_date").prop("disabled",!0):$("#rtn_date").prop("disabled",!1)}));var m=t.any()?1:2;!section||"SA"!=section&&"IN"!=section||"undefined"==typeof section_type||"domestic"!=section_type||"undefined"==typeof dep_city_code||"undefined"==typeof arr_city_code?setTimeout(function(){$("#dpt_date").datepicker("setDate",new Date(Date.now()+1728e5).format("dd/mm/yyyy")).datepicker("hide")},700):(y="https://www.cleartrip.com/seoapi/flight_api/fare_calendar?from="+dep_city_code+"&to="+arr_city_code+"&section="+section,$.ajax({url:y,type:"GET",dataType:"json",success:function(e){var t,a,n=new Date;month=n.getMonth()+1,year=n.getFullYear(),lastdate=(t=year,a=month,new Date(t,a+1,0)),$.each(e,function(e,t){parseInt(t.date)<=parseInt(lastdate.format("yyyymmdd"))&&f.push(t)})},complete:function(){$("#dpt_date").datepicker("setDate",new Date(Date.now()+1728e5).format("dd/mm/yyyy")).datepicker("hide")}},20))}if(0<$("#calendar").length){var y="https://www.cleartrip.com/seoapi/flight_api/calendar?from="+g+"&to="+v+"&section="+section;$.ajax({type:"GET",dataType:"json",url:y}).done(function(e){if($.isEmptyObject(e))var t="";else t=e.calendar_json,e.sell_currency_json.symbol;if(t&&null!=t&&""!=t){var i=[],o=[],n=0,r=null,l=null,d=null,s=[];$.each(t,function(e,t){for(var n=0;n<t.length;n++)null!=t[n].pr&&(i.push(parseFloat(t[0].pr)),a=e.replace(/(\d{4})\-?(\d{2})\-?(\d{2})/,"$1-$2-$3"),key_date=new Date(a),current_date=new Date,month=current_date.getMonth()+1,month=10<=month?month:"0"+month,current_day=current_date.getDate()<=9?"0"+current_date.getDate():current_date.getDate(),b=current_date.getFullYear()+"-"+month+"-"+current_day,a>=b&&s.push(parseFloat(t[0].pr)));0<t.length&&o.push(t)}),i.sort(function(e,t){return e-t}),null!=i&&(n=i[0],i[i.length-1]);var c=o.length;if(3<s.length)if(3<=c){$("#link-to-calendar").append('<a href="#calendref">'+lang.calender.airfare+"</a>"),1<$("a[href=#calendref]").length&&$("a[href=#calendref]").first().remove();var p=new Date,u=new Date,h=new Date(u.setDate(u.getDate()-u.getDay())),f=$('<table class="calendar table-bordered" id="calendar_table" width="100%" > <colgroup class="weekday"> <col class="Mon" /> <col class="Tue" /> <col class="Wed" /> <col class="Thu" /> <col class="Fri" /> </colgroup> <colgroup class="weekend"> <col class="Sat" /> <col class="Sun" /> </colgroup> <thead> <tr> <th>'+lang.flight_schedule.mo+"</th><th>"+lang.flight_schedule.tu+"</th> <th>"+lang.flight_schedule.we+" </th> <th>"+lang.flight_schedule.th+" </th> <th>"+lang.flight_schedule.fr+"</th> <th>"+lang.flight_schedule.sa+" </th> <th>"+lang.flight_schedule.su+"</th> </tr> </thead><tbody>");$("#calender_display").append(f),$("#calender_display table tbody").append('<tr class="day">'),1<$("#calender_display .calendar").length&&($($(".calendar")[0]).next().remove(),$($(".calendar")[0]).remove()),$("#slider").empty();for(var m=1;m<=35;m++){var y=w(h,1);if(p<y&&y!=p)r=k(t,y);if(null!=r&&(l=r.pr,d=r.aln,cheap_airline_code=r.al),y.isSameDateAs(p)||n==l?(y.isSameDateAs(p)&&$("#calender_display table tbody tr:last").append('<td id="day_'+m+'" class="today">'),n==l&&$("#calender_display table tbody tr:last").append('<td id="day_'+m+'" class=best>')):$("#calender_display table tbody tr:last").append('<td id="day_'+m+'">'),y.isSameDateAs(p)?$("#calender_display table tbody tr:last td:last").append("<p><span> "+lang.calender.today+"  </span>"+D(y.getDate())+" "+lang.month[y.getMonth()]+"</p>"):n==l?$("#calender_display table tbody tr:last td:last").append('<p><span class="mobile">'+lang.calender.cheapest+" </span>"+D(y.getDate())+" "+lang.month[y.getMonth()]+"</p>"):$("#calender_display table tbody tr:last td:last").append("<p>"+D(y.getDate())+" "+lang.month[y.getMonth()]+"</p>"),p<y&&!y.isSameDateAs(p)){if(null!=l?$("#calender_display table tbody tr:last td:last").append('<div class="vevent"> <abbr class="dtstart" title="'+y.toJSON().substring(8,10)+"/"+y.toJSON().substring(5,7)+"/"+y.toJSON().substring(0,4)+'"></abbr>'):$("#calender_display table tbody tr:last td:last"),null!=l){var _=Math.round(parseFloat(l));_=_.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,").split(".")[0],$("#calender_display  table tbody tr:last td:last div").append('<p class="summary"><a id="anchorDate_1" href="/flights/results?from='+g+"&to="+v+"&adults=1&childs=0&infants=0&depart_date="+y.toJSON().substring(8,10)+"/"+y.toJSON().substring(5,7)+"/"+y.toJSON().substring(0,4)+"&dep_time=0&class=Economy&airline="+cheap_airline_code+'&carrier=&x=57&y=16&flexi_search=no" title="Click for flight details and booking"  rel="nofollow">'+lang.currency+" "+_+'</a></p><dl class="description"><dt><span title="Going there" class="to"></span></dt><dd>'+d+"</dd></dl>"),link="/flights/results?from="+g+"&to="+v+"&adults=1&childs=0&infants=0&depart_date="+y.toJSON().substring(8,10)+"/"+y.toJSON().substring(5,7)+"/"+y.toJSON().substring(0,4)+"&dep_time=0&class=Economy&airline="+cheap_airline_code+"&carrier=&x=57&y=16&flexi_search=no",$("#calender_display").append("</div>"),cal_html='<div class="slide"><a href="'+link+'"><span class="date-info">'+y.format("ddd, dd mmm")+'</span><span class="price-info"><span class="currency-symboal"></span><span class="currency-symboal">'+lang.currency+"</span>"+_+"</span></a></div>"}else cal_html="",$("#calender_display table tbody tr:last td:last div").append("<p></p>");$("#slider").append(cal_html)}$("#calender_display table tbody tr").append("</td>"),m%7==0&&(35==m?$("#calender_display table tbody").append("</tr>"):$("#calender_display table tbody").append("</tr><tr>"))}S.reloadSlider()}else $("#calendar").hide(),$(".calendar-new").hide();else $(".calendar-new").hide()}$.isEmptyObject(e)&&$(".calendar-new").hide()}).fail(function(e,t,a){})}function w(e,t){return e.setDate(e.getDate()+t),e}function D(e){return e<10&&(e="0"+e),e}function k(e,t){var n,i,a=[],o=D(t.getDate()),r=D(t.getMonth()+1),l=t.getFullYear();return full_date=l.toString()+r.toString()+o.toString(),intDate=parseInt(full_date),day_data=e[intDate],null!=day_data&&($.each(day_data,function(e,t){""!=h?t.al==h&&$.each(t,function(e,t){null!=t&&"pr"==e&&a.push(parseFloat(t))}):$.each(t,function(e,t){null!=t&&"pr"==e&&a.push(parseFloat(t))})}),i=a.sort(function(e,t){return e-t})[0],$.each(day_data,function(e,a){""!=h?a.al==h&&$.each(a,function(e,t){"pr"==e&&null!=t&&t==i&&(n=a)}):$.each(a,function(e,t){"pr"==e&&null!=t&&t==i&&(n=a)})})),n}Date.prototype.isSameDateAs=function(e){return this.getFullYear()===e.getFullYear()&&this.getMonth()===e.getMonth()&&this.getDate()===e.getDate()},$("#show_all_flights").click(function(){$("#airline-lists li.showMore").toggleClass("hide")}),$(".mview-list li.showMore").addClass("hide"),$("#show_all_flights_mobile").click(function(){$(".mview-list li.showMore").toggleClass("hide")}),$("#fullCalendarShow").click(function(){$("#calendar").slideToggle(),$("#horCalendar").slideToggle()});var S=$("#slider").bxSlider({slideWidth:110,minSlides:2,maxSlides:7,slideMargin:0,infiniteLoop:!1,hideControlOnEnd:!0});if($("#back-to-top").length){var _=function(){100<$(window).scrollTop()?$("#back-to-top").addClass("show"):$("#back-to-top").removeClass("show")};_(),$(window).on("scroll",function(){_()}),$("#back-to-top").on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},700)})}if(!e){function C(){!section||"SA"!=section&&"IN"!=section||"undefined"==typeof section_type||"domestic"!=section_type||"undefined"==typeof dep_city_code||"undefined"==typeof arr_city_code||setTimeout(function(){$(".ui-datepicker-calendar td").filter(function(){if(!$(this).hasClass("ui-state-disabled")){var e=T($(this).text()),t=$(this).attr("data-month"),a=(t=T((parseInt(t)+1).toString()),$(this).attr("data-year"));date=a+""+t+e,min_price="",$.each(f,function(e,t){t.date==date&&(price=parseInt(t.min_price),price=price.toString(),min_price="in"==country_code?price.replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"):price)}),min_price&&$(this).append("<span class='calendarPrice low'>"+min_price+"</small>")}})},300)}$("#dpt_date").datepicker({showButtonPanel:!0,closeText:"X",minDate:0,dateFormat:"dd/mm/yy",numberOfMonths:m,stepMonths:2,dayNamesMin:["S","M","T","W","T","F","S"],beforeShow:C,onChangeMonthYear:C,onSelect:function(e){var t=$("#dpt_date").datepicker("getDate"),a=$("#dpt_date").datepicker("getDate");t.setDate(t.getDate()+1),$("#rtn_date").datepicker("setDate",a),$("#rtn_date").datepicker("option","minDate",a),setTimeout(function(){$("#AirSearch .list-inline").find("li.active a").hasClass("rnd_trip")?$("#rtn_date").val(new Date(t).format("dd/mm/yyyy")).datepicker("show"):$("#rtn_date").val(new Date(t).format("dd/mm/yyyy"))},300)}}),$("#rtn_date").datepicker({showButtonPanel:!0,closeText:"X",numberOfMonths:m,dateFormat:"dd/mm/yy",stepMonths:2,beforeShow:C,onChangeMonthYear:C,dayNamesMin:["S","M","T","W","T","F","S"],onSelect:function(){""!=$("#destination_autocomplete").val()&&$("#origin_autocomplete").val()},onClose:function(){var e=$("#dpt_date").datepicker("getDate");if($("#rtn_date").datepicker("getDate")<=e){var t=$("#rtn_date").datepicker("option","minDate");$("#rtn_date").datepicker("setDate",t)}}})}$("input[name='rnd_one']").change(function(){"R"==$(this).val()?$("#returnDateSec").fadeIn():$("#returnDateSec").fadeOut()}),$("#origin_autocomplete,#destination_autocomplete").autocomplete({source:function(e,t){$.getJSON(u+e.term+s,function(e){var a=[];e=parseAutoCmp(e),$.each(e,function(e,t){a.push({label:t.v,value:t.v})}),t(a)})},select:function(e,t){var a=extractCITY(t.item.value);"origin_autocomplete"==e.target.id?(n=extractCountry(t.item.value),l=extractCityName(t.item.value),$("#from").val(a)):(o=extractCountry(t.item.value),r=extractCityName(t.item.value),$("#to").val(a))},minLength:3}),e||(null!=g&&null!=g&&""!=g&&$.ajax({type:"GET",dataType:"json",url:u+g+s}).done(function(t){null!=t[0]&&(t=parseAutoCmp(t),$("#from").val(g),$.each(t,function(e){g==t[e].k&&(l=extractCityName(t[e].v),n=extractCountry(t[e].v),$("#origin_autocomplete").val(t[e].v))}))}),null!=v&&null!=v&&""!=v&&$.ajax({type:"GET",dataType:"json",url:u+v+s}).done(function(t){null!=t[0]&&(t=parseAutoCmp(t),$("#to").val(v),$.each(t,function(e){v==t[e].k&&(r=extractCityName(t[e].v),o=extractCountry(t[e].v),$("#destination_autocomplete").val(t[e].v))}))}));var A=["www.cleartrip.sa","www.cleartrip.ae"];if(void 0!==window.languageType)var x=window.languageType;if(void 0!==window.language_type)x=window.language_type;function T(e){return e<10?"0"+e:e}e=!!t.any();($("#dpt_date").val(new Date(c).format("dd/mm/yyyy")),$("#rtn_date").val(new Date(p).format("dd/mm/yyyy")),$("#button_flight_search").click(function(){$("#AirSearch").find("li.active a").hasClass("one_way")&&(ret_val=$("#rtn_date").val(),$("#rtn_date").val("")),this.form.target="_self";var e=n.toLowerCase()!=country_code||o.toLowerCase()!=country_code?"international/":"";if(t.any()){if(domains=["www.cleartrip.com"],location.hostname!=0<=domains.indexOf(location.hostname))if("in"==n.toLowerCase()&&"in"==o.toLowerCase())e="";else e="international/";else e="international/";if(void 0===e)e="international/";$(this).closest("form").append("<input type='hidden' name='mobile' value='true'>"),"ar"==x&&0<=$.inArray(location.hostname,A)?this.form.action="/ar/m/flights/"+e+"results":this.form.action="/m/flights/"+e+"results"}else"ar"==x&&0<=$.inArray(location.hostname,A)?this.form.action="/ar/flights/"+e+"results":this.form.action="/flights/"+e+"results";$(this).closest("form").append("<input type='hidden' name='page' value='loaded' />"),$(this).closest("form").append('<input type="hidden" name="from_header" id="from_header" value="'+l+'"/>'),$(this).closest("form").append('<input type="hidden" name="to_header" id="to_header" value="'+r+'"/>'),$(this).closest("form").append("<input type='hidden' name='class' id='class' value='Economy'/>"),"undefined"==typeof country_code||"IN"!=country_code&&"in"!=country_code&&"SA"!=country_code&&"sa"!=country_code||($(this).closest("form").append("<input type='hidden' name='utm_source' id='class' value='google'/>"),$(this).closest("form").append("<input type='hidden' name='utm_medium' id='class' value='organic'/>"),$(this).closest("form").append("<input type='hidden' name='utm_campaign' id='class' value=seo_"+page_type+"_page_search_button/>")),this.form.submit()}),$(".Dtravellers").on("click",function(e){e.preventDefault();var t="",a=parseInt($(this).closest("ul").find(".adult-count").text()),n=parseInt($(this).closest("ul").find(".child-count").text()),i=parseInt($(this).closest("ul").find(".infant-count").text());location.href.includes("/ar/")?t+=a+" الكبار,"+n+" طفل,"+i+" الرضع":t+=a+" adults,"+n+" child,"+i+" infants",$(".travellers_data").val(t),$("li.common-fields.dropdown").removeClass("open")}),0<$("div.local-tile a").length&&"flight-status.html"!=location.href.split("/").pop()&&$("div.local-tile a").each(function(e,t){_href=$(t).attr("href"),$(t).attr("href",_href+"?utm_source=Google&utm_medium=Organic&utm_campaign=Flights")}),"undefined"==typeof country_code||"IN"!=country_code&&"in"!=country_code&&"SA"!=country_code&&"sa"!=country_code||0<$("table.fare-table a.booking-btn").length&&$.each($("table.fare-table a.booking-btn"),function(e,t){e.href+="&utm_source=google&utm_medium=organic&utm_campaign=seo_"+page_type+"_book_now_button"}),$(".flight-schedule-booking").each(function(){(new Date).format("dd/mm/yyyy");var e=$(this).data("route").split("-");two_date=new Date(c).format("dd/mm/yyyy");var t=$(this).data("section");if(void 0===t&&(t=e[3]),"int"==t)if("ar"==x&&0<=$.inArray(location.hostname,A))var a=location.protocol+"//"+location.hostname+d+"/ar/flights/international/results?from="+e[0]+"&to="+e[1]+"&depart_date="+two_date+"&adults=1&childs=0&infants=0&page=loaded";else a=location.protocol+"//"+location.hostname+d+"/flights/international/results?from="+e[0]+"&to="+e[1]+"&depart_date="+two_date+"&adults=1&childs=0&infants=0&page=loaded";else if("ar"==x&&0<=$.inArray(location.hostname,A))a=location.protocol+"//"+location.hostname+d+"/ar/flights/results?from="+e[0]+"&to="+e[1]+"&depart_date="+two_date+"&adults=1&childs=0&infants=0&page=loaded";else a=location.protocol+"//"+location.hostname+d+"/flights/results?from="+e[0]+"&to="+e[1]+"&depart_date="+two_date+"&adults=1&childs=0&infants=0&page=loaded";null!=e[2]&&""==d&&(a+="&airline="+e[2]),"undefined"==typeof country_code||"IN"!=country_code&&"in"!=country_code&&"SA"!=country_code&&"sa"!=country_code||(a+="&utm_source=google&utm_medium=organic&utm_campaign=seo_"+page_type+"_book_now_button"),$(this).attr("href",a)}),$("#adults").change(function(){for(selected=parseInt($(this).val()),$("#children").empty(),i=0;i<=9-selected;i++)$("#children").append($("<option>").val(i).html(i));$("#children").change()}),$("#children").change(function(){for($("#infants").empty(),child_selected=parseInt($("#children").val()),i=0;i<=9-child_selected;i++)$("#infants").append($("<option>").val(i).html(i))}),"undefined"!=typeof section_type&&"international"==section_type)&&("/flights/search"==$("#AirSearch").attr("action")&&(t.any()?link=d+"/flights/international/results":link=d+"/flights/international/search",$("#AirSearch").attr("action",link)));load_calendars=["www.cleartrip.com","www.cleartrip.ae","www.cleartrip.sa"],curr_domain=location.hostname,load_calendars.indexOf(curr_domain)<0&&$(".calendar-new").hide()}),$("a.toggle_trip").on("click",function(){if(this.className.includes("rnd_trip")){$("a.one_way").parent("li").removeClass("active"),$(".D-Rdate").find("input").prop("disabled",!1),$("a.rnd_trip").parent("li").addClass("active");var e=$("#dpt_date").datepicker("getDate"),t=$("#dpt_date").datepicker("getDate");$("#one_way").val("R"),e&&(e.setDate(e.getDate()+1),$("#rtn_date").datepicker("setDate",t),$("#rtn_date").datepicker("option","minDate",t),$("#rtn_date").val(new Date(e).format("dd/mm/yyyy")))}else $("#one_way").val("O"),$(".D-Rdate").find("input").prop("disabled",!0),$("a.one_way").parent("li").addClass("active"),$("a.rnd_trip").parent("li").removeClass("active")}),$(".D-Rdate").on("click",function(e){$(this).find("input").prop("disabled")&&($("a.toggle_trip").trigger("click"),$("#rtn_date").datepicker("show"))});